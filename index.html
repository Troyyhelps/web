<!DOCTYPE html>
<html>
<head>
    <title>Update JSON Data</title>
</head>
<body>
    <script>
        // Define the URL to your JSON file
        var jsonFileURL = 'https://troyyhelps.github.io/web/players.json';

        // Check if guildid and num parameters are provided in the URL
        var urlParams = new URLSearchParams(window.location.search);
        var guildId = urlParams.get('guildid');
        var room = urlParams.get('num');
        var lolRoom = urlParams.get('lol');

        // Function to update JSON data
        function updateData(data) {
            if (guildId !== null && room !== null) {
                // Update the JSON data with the provided values
                data[guildId] = room;
            } else if (lolRoom !== null) {
                // Update the JSON data with the 'lol' parameter
                data[lolRoom] = "0";
            }

            // Display the updated JSON data
            console.log(data);

            // If you want to save the changes to the JSON file on the server, you would need server-side code.
            // GitHub Pages doesn't support server-side code execution, so you would need to host it elsewhere.
        }

        // Fetch the JSON file
        fetch(jsonFileURL)
            .then(response => response.json())
            .then(data => {
                // Update the JSON data
                updateData(data);
            })
            .catch(error => {
                console.error("Error fetching JSON file:", error);
            });
    </script>
</body>
</html>
